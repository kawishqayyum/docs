---
title: "IP Rotation in shared proxies pool"
description: "How does proxy IP rotation works, and how can you configure or control it. "
---

## 代理 IP rotation by default

By default, Bright Data assigns a random proxy from the available proxies in the zone, considering your configuration.&#x20;

For example: if you chose to target a specific country, for example Canada, using the `-country=ca` parameter, we will randomly assign a proxy in Canada out of all the proxies located in Canada that we have in the pool.&#x20;

The next request, will be directed to a different proxy, and so on, selected randomly from our pool. Executing requests in high rate or by multiple calling agents may result in reuse of the same proxy IPs.&#x20;

## Forcing rotation with `session` parameter

In order to force electing a different proxy, use the `-session` parameter with different value for every request. This will assure consequent requests will have different IPs.&#x20;

## Using the same proxy for multiple requests: `session`

To keep the same proxy IP address for multiple requests, use the `-session` parameter with a session identified you create and control. Each request, carrying the same `-session` value will be forwarded to the **same proxy IP**.&#x20;

The `-session` parameter value is generated by you and controlled by you, yet its format should include alphanumeric characters only. Using special characters like `-` or `*` will result in errors.&#x20;

If you work with native proxy access (within code libraries or 3rd party tools which take proxy ip:port and credentials) then you embed the session parameter in the user name parameter as shown below for session identified `mystring12345`.  If you are using our proxy REST API, then the `session` parameter in request `body` shall carry the session identified value.&#x20;

```sh Shell
curl "http://target.site" --proxy brd.superproxy.io:33335 --proxy-user brd-customer-<customer_id>-zone-<zone_name>-session-mystring12345:<zone_password>
```

## Losing session context&#x20;

The following describes scenarios where session context can be lost, and consequent requests will be executed by **different** proxies.&#x20;

### Session Idle Time&#x20;

Session idle time is 5 minutes. In case there are more than 5 minutes idle time between two consequent requests, the second request, although carrying the same `session` parameter as the first, will use a randomly selected proxy from the pool.&#x20;

### Session origin must be from same global region

In order to keep the same session, you must ensure your calling process issuing the request is not switching between global regions. We recognize 3 global regions:

1. AMER: North, central and south America&#x20;

2. EMEA: Europe, Middle East and Africa&#x20;

3. APAC: Asia and Pacific

Example: If you issue 2 consequent requests, one from **your company** server in Canada (in AMER region) and one from **your company server** in France, even if both requests will carry the same `session` parameter, they will be executed by different proxy peers.&#x20;

### Other parameters must be identical

In case 2 consequent requests carry different country, city or any other parameter: session context will be lost , even if they carry the same `session` parameter.&#x20;

### Error on lost session

By default, is session is lost or reset, Bright Data will randomly assign a proxy to your request. If you wish to avoid this default assignment, and error instead, use the `-const` parameter in your request. If the same peer is not available from any reason to 2 consequent requests, the second request will result in `HTTP Error 502`&#x20;

```sh Shell
curl "http://target.site" --proxy brd.superproxy.io:33335 --proxy-user brd-customer-<customer_id>-zone-<zone_name>-session-mystring12345-const:<zone_password>
```